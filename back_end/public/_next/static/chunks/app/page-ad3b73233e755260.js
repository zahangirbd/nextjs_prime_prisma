(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{764:function(e,t,s){Promise.resolve().then(s.bind(s,6455))},6455:function(e,t,s){"use strict";s.r(t),s.d(t,{ProductsTable:function(){return o}});var a=s(7437),n=s(2265);class r{async getProducts(){let e=await fetch("/api/products"),t=await e.json();return t}async addProduct(e){let t=await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();return s}}var d=s(2010),i=s(8904),l=s(741),c=s(2449);s(4183),s(189),s(4349),s(1985);let o=()=>{let[e,t]=(0,n.useState)([]),[s,o]=(0,n.useState)(!1),[u,h]=(0,n.useState)(""),[x,j]=(0,n.useState)(""),[g,p]=(0,n.useState)(0),[v,m]=(0,n.useState)(""),[y,b]=(0,n.useState)("");(0,n.useEffect)(()=>{let e=new r;e.getProducts().then(e=>t(e))},[]);let f=e=>e.toLocaleString("en-US",{style:"currency",currency:"USD"}),w=(0,a.jsx)("div",{className:"table-header",children:"Products"});return(0,a.jsx)("div",{className:"datatable-doc-demo",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)(d.w,{value:e,header:w,className:"p-datatable-customers",size:"normal",children:[(0,a.jsx)(i.s,{field:"id",header:"ID"}),(0,a.jsx)(i.s,{field:"name",header:"Name"}),(0,a.jsx)(i.s,{field:"price",header:"Price",body:e=>f(e.price)}),(0,a.jsx)(i.s,{header:"Image",body:e=>(0,a.jsx)("img",{src:"".concat(e.imgUrl),alt:e.imgUrl})}),(0,a.jsx)(i.s,{field:"category",header:"Category"})]}),(0,a.jsxs)(l.V,{header:"Add Product",modal:!0,visible:s,style:{width:"50vw"},onHide:()=>o(!1),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Name"}),(0,a.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Description"}),(0,a.jsx)("input",{type:"text",value:x,onChange:e=>j(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Price"}),(0,a.jsx)("input",{type:"number",value:g,onChange:e=>p(Number(e.target.value)||0)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Image URL"}),(0,a.jsx)("input",{type:"text",value:v,onChange:e=>m(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Category"}),(0,a.jsx)("input",{type:"text",value:y,onChange:e=>b(e.target.value)})]}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{children:(0,a.jsx)(c.Button,{type:"button",label:"Add",onClick:()=>{if(console.log("add-product button pressed"),!u||g<=0||!y){o(!1);return}let e={name:u,description:x,price:g,imgUrl:v,category:y};console.log("Adding product with the following values"),console.log(e);let t=new r;t.addProduct(e).then(e=>{o(!1)}).catch(e=>{console.log("Error: ".concat(e.message)),o(!1)})}})})]}),(0,a.jsx)("br",{}),(0,a.jsx)(c.Button,{type:"button",label:"Add Product",onClick:()=>o(!0)})]})})}},1985:function(){}},function(e){e.O(0,[446,197,123,971,864,744],function(){return e(e.s=764)}),_N_E=e.O()}]);